{"meta":{"title":"Welcome to Ray's blog","subtitle":"","description":"","author":"Ray Huang","url":"https://ruibinwong.com","root":"/"},"pages":[],"posts":[{"title":"MSc project research journey - Gradient Boosting Regression 1","slug":"MSc-project-research-journey-Gradient-Boosting-Regression-1","date":"2020-05-17T23:26:04.000Z","updated":"2020-05-18T16:26:30.592Z","comments":true,"path":"2020/05/18/MSc-project-research-journey-Gradient-Boosting-Regression-1/","link":"","permalink":"https://ruibinwong.com/2020/05/18/MSc-project-research-journey-Gradient-Boosting-Regression-1/","excerpt":"","text":"Gradient Boosting Regression 1We thought the sampling method should be periodically since the model sequence is also periodical. We design 2 sampling methods: 1. choose samples from the group belonging with the same gene (could be same Sw, NTG or Phi). 2. choose samples randomly. 1234567891011121314151617181920def sampling(mode='Kgroup', k=1): train_indexes = [] if mode == 'Kgroup': for i in range(24): _2st_indexes = [] for j in range(24): _2st_indexes += list(range(24 ** 3))[j * 24 ** 2 + i * 24: j * 24 ** 2 + (i + 1) * 24:] train_indexes += random.sample(list(range(24 ** 3))[i::24], k=k) # 3rd gene sampling train_indexes += random.sample(_2st_indexes, k=k) # 2nd gene sampling train_indexes += random.sample(list(range(24 ** 3))[i * (24 ** 2):(i + 1) * (24 ** 2)],k=k) # 1st gene sampling else: train_indexes = random.sample(list(range(24**3)), k=24*3*k) train_indexes = set(train_indexes) test_indexes = set(list(range(24 ** 3))) - train_indexes train_indexes = list(train_indexes) test_indexes = list(test_indexes) return train_indexes, test_indexes Training code: 1234567891011121314def train(mode, k): train_indexes, test_indexes = sampling(mode, k) genes = dataprovider.read_genomes(drop_stratigraphy_keys=True) OIP = dataprovider.read_OIP_true() x_train = genes[train_indexes] y_train = OIP[train_indexes] x_test = genes y_test = OIP reg = GradientBoostingRegressor(random_state=0) reg.fit(x_train, y_train) y_pred = reg.predict(x_test) return r2_score(y_test, y_pred) We experimented 24 times of Gradient boosting regression with different ratios of training set and gave the result on the figure above. From the figure, we could know the sampling method does not really affect the regression quality but the regression experiment obtain a good result.","categories":[],"tags":[{"name":"MSc project","slug":"MSc-project","permalink":"https://ruibinwong.com/tags/MSc-project/"}]},{"title":"MSc project research journey - Gene investigation 1","slug":"MSc-project-research-journey-Gene-investigation-1","date":"2020-05-17T13:38:14.000Z","updated":"2020-05-17T15:48:22.285Z","comments":true,"path":"2020/05/17/MSc-project-research-journey-Gene-investigation-1/","link":"","permalink":"https://ruibinwong.com/2020/05/17/MSc-project-research-journey-Gene-investigation-1/","excerpt":"","text":"Gene Investigation 1 - Quality of FitWe found the trends of QoF (Quality of Fit) are related with OIP value.","categories":[],"tags":[{"name":"MSc project","slug":"MSc-project","permalink":"https://ruibinwong.com/tags/MSc-project/"}]},{"title":"MSc project research journey - OIP investigation 3","slug":"MSc-project-research-journey-OIP-investigation-3","date":"2020-05-14T18:21:55.000Z","updated":"2020-05-14T22:39:59.931Z","comments":true,"path":"2020/05/14/MSc-project-research-journey-OIP-investigation-3/","link":"","permalink":"https://ruibinwong.com/2020/05/14/MSc-project-research-journey-OIP-investigation-3/","excerpt":"","text":"OIP investigation 3The conclusion of OIP investigation 2 can be more directly to observe when we reorder the model number. The model sequence in the data file is ordered like NTG 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 … Phi 0 0 0 … 0 1 1 1 … 1 … 24 0 0 0 … 0 1 1 1 … 1 … 24 … Sw 0 1 2 … 24 0 1 2 … 24 … 24 0 1 2 … 24 0 1 2 … 24 … 24 … and then we have the figure like Once we reorder the model sequence like Sw 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 … Phi 0 0 0 … 0 1 1 1 … 1 … 24 0 0 0 … 0 1 1 1 … 1 … 24 … NTG 0 1 2 … 24 0 1 2 … 24 … 24 0 1 2 … 24 0 1 2 … 24 … 24 … we will get the figure like This figure would be more clear since the models’ OIP is grouping together and showing the difference of OIP level. The OIP curves with Phi genes changing within each Sw gene is showed as the figure below. The different colour curves are the OIP value within different NTG genes.","categories":[],"tags":[{"name":"MSc project","slug":"MSc-project","permalink":"https://ruibinwong.com/tags/MSc-project/"}]},{"title":"MSc project research journey - OIP investigation 2","slug":"MSc-project-research-journey-OIP-investigation-2","date":"2020-05-12T23:20:14.000Z","updated":"2020-05-13T00:56:00.668Z","comments":true,"path":"2020/05/13/MSc-project-research-journey-OIP-investigation-2/","link":"","permalink":"https://ruibinwong.com/2020/05/13/MSc-project-research-journey-OIP-investigation-2/","excerpt":"","text":"OIP investigation 2In OIP investigation 1, we split the OIP curve to fragments according to the Phi gene. This blog records the insight for discussing the NTG and water saturation affecting the fragments. Net to Gross (NTG)We draw the different colour OIP curve to discriminate NTG genes and conclude that the NTG genes influence the range of OIP values. The figure displays the 24 different colours dots separating vertically as bars, representing the 24 NTG genes. Each bar has different maximum and minimum OIP values but a similar distribution. We, therefore, assume that the NTG gene affects the range of the group of OIP values. Water saturation (Sw)The water saturation mostly affect the OIP value as the figure below showing. The OIP values from the models with the same Sw gene (the same colour) show the approximate consistency. OverallIn conclusion, we have known the way of model’s genes affecting the OIP values. However, we should not see these insights in the task since, in the scenario, we do not know the OIP value, and we only have the genes. So we should focus on analysing the variables from the genes to see if there is consistency with OIP value. Hopefully, we can get a proper unsupervised grouping metrics from it.","categories":[],"tags":[{"name":"MSc project","slug":"MSc-project","permalink":"https://ruibinwong.com/tags/MSc-project/"}]},{"title":"MSc project research journey - OIP investigation 1","slug":"MSc-project-research-journey-OIP-investigation-1","date":"2020-05-08T18:41:16.000Z","updated":"2020-05-13T00:56:03.863Z","comments":true,"path":"2020/05/08/MSc-project-research-journey-OIP-investigation-1/","link":"","permalink":"https://ruibinwong.com/2020/05/08/MSc-project-research-journey-OIP-investigation-1/","excerpt":"","text":"OIP investigation 1We tried to explore the OIP value curve from Phi, NTG and Water Saturation. We found a proper division method that treating the OIP plotted by 24 Phi genes as a fragment, and these fragments could show a similar level of OIP (as the figure showing below). NTG and Water Saturation decide the positions of fragments on the figure. These positions reflect the different level of OIP, which is what we are expecting. We should do further exploration of NTG and Water Saturation to see how they influence the fragments’ positions. Now we can be sure these genes are really affecting the OIP.","categories":[],"tags":[{"name":"MSc project","slug":"MSc-project","permalink":"https://ruibinwong.com/tags/MSc-project/"}]}],"categories":[],"tags":[{"name":"MSc project","slug":"MSc-project","permalink":"https://ruibinwong.com/tags/MSc-project/"}]}